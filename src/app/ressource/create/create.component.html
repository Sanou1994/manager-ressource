

<div #modal></div>
<div class="row">
    <div>
      <a class="btn btn-lg text-center" [routerLink]="['/ressource/list']"><span><i class="fa fa-arrow-left "></i></span> Retour</a>
    </div>
  </div>

<div class="container-xl">			    
    <h1 class="app-page-title">Nouvelle Ressource</h1>
    <form [formGroup]="addRessource" (ngSubmit)="openModal()" class="settings-form">
    <hr class="mb-4">
    <div class="row g-4 settings-section">
        <div class="col-12 col-md-4">
            <h3 class="section-title">Politique de gestion</h3>
            <div class="section-intro"> Fournir les détails de la politique de gestion du ressource</div>
        </div>     
        <div class="col-12 col-md-8">
            <div class="app-card app-card-settings shadow-sm p-4">						    
                <div class="app-card-body">                    

                        <div class="form-check mb-3">
                            <input class="form-check-input" (click)="oncheckable('temporaly')"   type="radio" name="ressource"  id="temporaly" #temporaly>
                            <label class="form-check-label" for="temporaly">
                                La ressource est reservable par lot? 
                            </label>
                        </div><!--//form-check-->
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" (click)="oncheckable('programmable')"   name="ressource"  id="programmable" #programmable>
                            <label class="form-check-label" for="programmable">
                                La ressource est reservable par unité ?
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio"  (click)="oncheckable('unprogrammableanduntemporaly')"   name="ressource"  id="unprogrammableanduntemporaly" checked #unprogrammableanduntemporaly>
                            <label class="form-check-label" for="unprogrammableanduntemporaly">
                                La ressource est non retournable ?
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <p class="text-danger" for="settings-checkbox-2">
                                {{message}}
                            </p>
                        </div>
                        
                </div><!--//app-card-body-->						    
            </div><!--//app-card-->
        </div>
    </div><!--//row-->
    <hr class="mb-4">
    <div class="row g-4 settings-section">
        <div class="col-12 col-md-4">
            <h3 class="section-title">Politique de facturation</h3>
            <div class="section-intro"> Fournir les détails de la politique de facturation de cette ressource</div>
        </div>     
        <div class="col-12 col-md-8">
            <div class="app-card app-card-settings shadow-sm p-4">						    
                <div class="app-card-body">                    
                   
                        <div class="form-check mb-3" *ngIf="!!programmableInput && programmableInput.nativeElement.checked">
                            <input class="form-check-input"   type="radio" name="paid" (click)="oncheckablePaid()"  id="paidByHours" [checked]="!!programmableInput && programmableInput.nativeElement.checked" #paidByHours>
                            <label class="form-check-label" for="paidByHours">
                                La ressource est facturable par heure? 
                            </label>
                        </div><!--//form-check-->
                        <div class="form-check mb-3" *ngIf="!!programmableInput && programmableInput.nativeElement.checked" >
                            <input class="form-check-input" type="radio" name="paid" (click)="oncheckablePaid()"  id="paidByDays" #paidByDays>
                            <label class="form-check-label" for="paidByDays">
                                La ressource est facturable par jour ?
                            </label>
                        </div>
                        <div class="form-check mb-3" *ngIf="((!!temporalyInput && temporalyInput.nativeElement.checked) || (!!unprogrammableanduntemporalyInput && unprogrammableanduntemporalyInput.nativeElement.checked))" >
                            <input class="form-check-input" type="radio" (click)="oncheckablePaid()"    name="paid"  id="paidByGroups" [checked]="!!temporalyInput && temporalyInput.nativeElement.checked" #paidByGroups>
                            <label class="form-check-label" for="paidByGroups">
                                La ressource est facturable par lot ?
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input"   type="radio" name="paid" (click)="oncheckablePaid()"  id="unpaid" [checked]="!!unprogrammableanduntemporalyInput && unprogrammableanduntemporalyInput.nativeElement.checked" #unpaid>
                            <label class="form-check-label" for="unpaid">
                                La ressource est non facturable ? 
                            </label>
                        </div><!--//form-check-->
                        
                        <div class="form-check mb-3">
                            <p class="text-danger" for="settings-checkbox-2">
                                {{message}}
                            </p>
                        </div>
                        
                </div><!--//app-card-body-->						    
            </div><!--//app-card-->
        </div>
    </div><!--//row-->
        <hr class="my-4">
    <div class="row g-4 settings-section">
        <div class="col-12 col-md-4">
            <h3 class="section-title">Informations Générales</h3>
            <div class="section-intro"> Fournir tous les détails sur la ressource </div>
        </div>
        <div class="col-12 col-md-8">
            <div class="app-card app-card-settings shadow-sm p-4">              

                <div class="app-card-body">
                        <div class="mb-3">
                            <label for="setting-input-2" class="form-label">Catégorie de la ressource</label>                           
                            <select id="category" class="form-control" formControlName="category" [ngClass]="{ 'is-invalid': submitted && f['category'].errors }">
                                <option *ngFor="let type of typeRessources" [value]="type.id">{{type.type}}</option>
                             </select>                            
                            <div *ngIf="submitted && f['category'].errors" class="invalid-feedback">
                                <div *ngIf="f['category'].errors['required']" style="color:red;">La catégorie est obligatoire</div>
                            </div>  
                        </div>                        
                        <div class="mb-3">
                            <label for="marque" class="form-label">Caractéristique</label>
                            <input type="text" min="0" class="form-control" id="marque" formControlName="marque" [ngClass]="{ 'is-invalid': submitted && f['marque'].errors }">
                            <div *ngIf="submitted && f['marque'].errors" class="invalid-feedback">
                                <div *ngIf="f['marque'].errors['required']" style="color:red;">La caractéristique  est obligatoire</div>
                            </div>  
                        </div>
                        <div class="mb-3">
                            <label for="setting-input-2" class="form-label">Quantité Totale </label>
                            <input type="number" min="0" class="form-control" id="setting-input-2" [(ngModel)]="count" formControlName="count" [ngClass]="{ 'is-invalid': submitted && f['count'].errors }" [readOnly]="readCount">
                            <div *ngIf="submitted && f['count'].errors" class="invalid-feedback">
                                <div *ngIf="f['count'].errors['required']" style="color:red;">La quantité  est obligatoire</div>
                            </div>  
                        </div>
                        <div class="mb-3"> 
                            <label for="setting-input-2" class="form-label">Quantité unitaire par lot  </label>
                            <input type="number" min="0" class="form-control" id="countByGroups" [(ngModel)]="countByGroups" formControlName="countByGroups" id="setting-input-2"
                            [readOnly]="!readByGroups">
                            
                        </div>
                        <div class="mb-3" >
                            <label for="setting-input-2" class="form-label">Montant unitaire</label>
                            <input type="number" min="0" class="form-control" id="setting-input-2" 
                             formControlName="mount" [ngClass]="{ 'is-invalid': submitted && f['mount'].errors }" [(ngModel)]="mount" [readOnly]="!readUnpaid" >
                            <div *ngIf="submitted && f['mount'].errors" class="invalid-feedback">
                                <div *ngIf="f['mount'].errors['required']" style="color:red;">Le montant  est obligatoire</div>
                            </div>  
                        </div>
                        <div class="mb-3">
                            <label for="setting-input-3" class="form-label">Description</label>
                            <input type="text"  class="form-control" id="setting-input-3" formControlName="description" [ngClass]="{ 'is-invalid': submitted && f['description'].errors }" >
                            <div *ngIf="submitted && f['description'].errors" class="invalid-feedback">
                                <div *ngIf="f['description'].errors['required']" style="color:red;">La description  est obligatoire</div>
                            </div>  
                        </div>
                </div><!--//app-card-body-->
                
            </div><!--//app-card-->
        </div>
    </div><!--//row-->
    
    
    <hr class="my-4">
    <div class="row g-4 settings-section">
        <div class="col-12 col-md-4">
            <h3 class="section-title">Confirmation d'enregistrement</h3>
            <div class="section-intro">Veuillez vérifier les champs avant d'enregistrer cette ressource</div>
        </div>
        <div class="col-12 col-md-8">
            <div class="app-card app-card-settings shadow-sm p-4">						    
                <div class="app-card-body">
                    <div class="mt-3">
                        <button type="submit" class="btn app-btn-primary" [disabled]="disableButton" >Enregistrer</button>
                    </div>
                </div><!--//app-card-body-->						    
            </div><!--//app-card-->
        </div>
    </div><!--//row-->
    </form>

    <hr class="my-4">
</div><!--//container-fluid-->